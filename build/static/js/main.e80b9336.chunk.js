(this.webpackJsonpbackbone=this.webpackJsonpbackbone||[]).push([[0],{38:function(e,t,a){e.exports=a(69)},43:function(e,t,a){},45:function(e,t,a){},69:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(33),c=a.n(l),o=(a(43),a(13)),i=a(5),u=(a(44),a(45),a(11)),s=a.n(u),m=a(14),d=a(15),E=a(10),h=Object(n.createContext)();var f=function(e){var t=Object(n.useState)({name:"",email:""}),a=Object(E.a)(t,2),l=a[0],c=a[1];return r.a.createElement(h.Provider,{value:{user:l,updateUser:function(e,t){c((function(a){return Object(d.a)(Object(d.a)({},a),{},Object(m.a)({},e,t))}))}}},e.children)};var p=function(){var e=Object(i.f)(),t=Object(n.useContext)(h).updateUser;return Object(n.useEffect)((function(){s.a.get("/auth",{withCredentials:!0}).then((function(a){console.log(a.data),a.data.auth?(t("name",a.data.user.displayName),e.push("/home")):e.push("/signin")})).catch((function(e){console.log("E "+e)}))}),[]),r.a.createElement("div",null,r.a.createElement("h1",null,"Auth"))},g="";var b=function(){var e=window.location.hostname,t=window.location.protocol;g="localhost"===e?t+"//"+e+":8080":t+"//"+e};var v=function(){var e=Object(i.f)(),t=Object(n.useState)(""),a=Object(E.a)(t,2),l=a[0],c=a[1];return Object(n.useEffect)((function(){b()}),[]),r.a.createElement("div",null,r.a.createElement("h1",null,"Sign In")," ",r.a.createElement("br",null)," ",r.a.createElement("br",null),r.a.createElement("form",null,r.a.createElement("label",{id:"lblEmail"},"Email:"),r.a.createElement("input",{id:"txtEmail",name:"email",type:"text"}),r.a.createElement("br",null),r.a.createElement("label",{id:"lblPassword"},"Password"),r.a.createElement("input",{id:"txtPassword",name:"password",type:"password"}),r.a.createElement("button",{onClick:function(t){t.preventDefault();var a=document.getElementById("txtEmail").value,n=document.getElementById("txtPassword").value;s.a.get("/login?email="+a+"&password="+n).then((function(t){"Logged in successful"===t.data.message?e.push("/"):c(t.data.info)})).catch((function(e){console.log(e)}))}},"LogIn"),r.a.createElement("p",null,l)),r.a.createElement("a",{href:g+"/auth/google"},"Sign In With Google"),r.a.createElement(o.b,{to:"/register"},r.a.createElement("p",null,"Register")))};var O=function(){Object(n.useEffect)((function(){b()}),[]);var e=Object(n.useContext)(h).user;return r.a.createElement("div",null,r.a.createElement("h1",null,"Home Page"),r.a.createElement("h2",null,e.name),r.a.createElement("a",{href:g+"/logout"},"Sign Out"))},j=a(21),w=a(35),y=a(37),x=a(16);var C=function(){var e=Object(i.f)(),t=Object(n.useState)(""),a=Object(E.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(!1),u=Object(E.a)(o,2),m=u[0],d=u[1];return Object(n.useEffect)((function(){document.title="Register"}),[]),r.a.createElement("div",{className:"body"},r.a.createElement(w.a,{className:"p-3"},r.a.createElement(y.a,{className:"back-color"},r.a.createElement("div",{className:"header"},r.a.createElement("h1",null,"Register"),m?r.a.createElement("div",null,r.a.createElement("h2",null," You have successfully been registered"),r.a.createElement("br",null),r.a.createElement("p",null,"Please log in"),r.a.createElement(j.a,{type:"submit",onClick:function(){d(!1),e.push("/signin")},variant:"primary"},"Login")):r.a.createElement(x.a,{action:"/form",method:"POST"},r.a.createElement(x.a.Control,{id:"name",size:"sm",type:"text",placeholder:"Name",required:!0}),r.a.createElement("br",null),r.a.createElement(x.a.Control,{id:"email",size:"sm",type:"email",placeholder:"Email",required:!0}),r.a.createElement("br",null),r.a.createElement(x.a.Control,{id:"password",size:"sm",type:"password",placeholder:"Password",required:!0}),r.a.createElement("br",null),r.a.createElement(x.a.Control,{id:"confirmpassword",size:"sm",type:"password",placeholder:"Confirm Password",required:!0}),r.a.createElement("br",null),r.a.createElement("p",null,l),r.a.createElement(j.a,{type:"submit",onClick:function(e){e.preventDefault(),c("");var t="/register/"+document.getElementById("name").value+"/"+document.getElementById("email").value+"/"+document.getElementById("password").value+"/"+document.getElementById("confirmpassword").value;s.a.get(t).then((function(e){"User registered successfully"===e.data.message?d(!0):"Yes"===e.data.userError&&c(e.data.message)})).catch((function(e){console.log(e)}))},variant:"primary"},"Register"))))))},I=Object(n.createContext)();var S=function(e){var t=Object(n.useState)({name:"",granted:""}),a=Object(E.a)(t,2),l=a[0],c=a[1];return r.a.createElement(I.Provider,{value:{user:l,updateUser:function(e,t){c((function(a){return Object(d.a)(Object(d.a)({},a),{},Object(m.a)({},e,t))}))}}},e.children)};var P=function(){var e=Object(i.f)(),t=Object(n.useContext)(I).updateUser;return Object(n.useEffect)((function(){s.a.get("/administrator/auth").then((function(a){var n=a.data;n.auth?(t("granted",n.access),"granted"==n.access?e.push("/administrator/home"):e.push("/administrator/signin")):e.push("/administrator/signin")})).catch((function(e){console.log(e)}))}),[]),r.a.createElement("div",null,r.a.createElement("h1",null," Admin Auth"))};var k=function(){var e=Object(n.useContext)(I).user;return Object(n.useEffect)((function(){b()}),[]),r.a.createElement("div",null,r.a.createElement("h1",null,"Administrator Sign In"),"denied"==e.granted?r.a.createElement("div",null,r.a.createElement("h1",null,"Access Denied"),r.a.createElement("a",{href:g+"/administrator/logout"},"Log Out")):r.a.createElement("a",{href:"/auth/github"},"Sign In With GitHub"))};var B=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Administrator Home"))};var A=function(){return r.a.createElement(f,null,r.a.createElement(o.a,null,r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"/",exact:!0,component:p}),r.a.createElement(i.a,{path:"/signin",component:v}),r.a.createElement(i.a,{path:"/home",component:O}),r.a.createElement(i.a,{path:"/register",component:C}),r.a.createElement(S,null,r.a.createElement(i.a,{path:"/administrator",exact:!0,component:P}),r.a.createElement(i.a,{path:"/administrator/signin",component:k}),r.a.createElement(i.a,{path:"/administrator/home",component:B})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[38,1,2]]]);
//# sourceMappingURL=main.e80b9336.chunk.js.map